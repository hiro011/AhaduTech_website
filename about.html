<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>About - AhaduTech</title>
  <meta name="description"
    content="AhaduTech — Ethiopia’s fast & secure online store for electronics, social media boost services and other services. Shop now!">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="icon" type="image" href="images/image.png">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="style_popup.css">
  <script src="script_auth.js" defer></script>

  <style>
    .container {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 5%;
    }

    .about-section {
      background: #e0e3f1;
      padding: 3rem;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, .05);
      margin-bottom: 3rem;
    }

    .about-section h1 {
      font-size: 2.5rem;
      color: #1a1a2e;
      margin-bottom: 1rem;
      text-align: center;
    }

    .about-section p {
      font-size: 1.1rem;
      color: #555;
      margin-bottom: 1.2rem;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      text-align: center;
      border: solid 1px #00d4ff;
      border-radius: 10px;
      padding: 1rem;
    }

    .highlight {
      color: #00d4ff;
      font-weight: 600;
    }

    .highlight2 {
      color: purple;
      font-weight: 600;
      cursor: pointer;
      text-decoration: underline;
    }

    /* ---------- CONTACT ---------- */
    .contact-section {
      background: #e0e3f1;
      padding: 3rem;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, .05);
      text-align: center;
    }

    .contact-info {
      justify-content: center;
      display: flex;
    }

    .contact-info h2 {
      font-size: 1.8rem;
      color: #1a1a2e;
      margin-bottom: 1.5rem;
      text-align: center;
    }

    .contact-info p {
      font-size: 1rem;
      color: #666;
      margin-bottom: 1rem;
    }

    .contact-item {
      display: flex;
      gap: 1rem;
      margin-bottom: 1.2rem;
      font-size: 1rem;
      justify-content: center;
      border: solid 1px #00d4ff;
      border-radius: 10px;
      padding: 1rem;
    }

    .contact-item:hover {
      background-color: #d7e2eb;
      transform: scale(1.02);
    }

    .contact-item i {
      color: #00d4ff;
      font-size: 1.3rem;
    }

    .contact-item a {
      color: #00d4ff;
      text-decoration: none;
      display: flex;
      justify-content: center;
    }

    .contact-item a:hover {
      text-decoration: underline;
    }
  </style>
</head>

<body>
  <!-- Navigation Bar -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="index.html" class="logo">AhaduTech</a>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="products.html">Products</a>
        <a href="services.html">Services</a>
        <a href="cart.html" id="cart-link">Cart (0)</a>
        <a href="about.html" class="active">About</a>
        <div id="auth-container">
          <button class="open-auth-btn" onclick="showLogin()">Login</button>
        </div>
      </div>
    </div>
  </nav>
  <!-- Dark overlay – click to close -->
  <div id="popup-overlay" onclick="closePopup()"></div>

  <!-- Change Password Popup -->
  <div id="changePassModal" class="cp-modal">
    <div class="cp-header">
      <h3>Change Password</h3>
      <span class="cp-close" onclick="closePopup()">×</span>
    </div>
    <form id="changePassForm">
      <input type="password" placeholder="Current Password" id="cp-current" required minlength="6">
      <input type="password" placeholder="New Password" id="cp-new" required minlength="6">
      <input type="password" placeholder="Confirm New Password" id="cp-confirm" required minlength="6">
      <button type="submit">Update Password</button>
      <div class="cp-msg" id="cpMsg"></div>
    </form>
  </div>

  <!-- Login / Register Auth Popup -->
  <div id="auth-popup" class="popup-box" style="display:none;">
    <span class="close-btn" onclick="closePopup()">&times;</span>

    <!-- Login Form -->
    <div id="login-form" class="auth-form">
      <h2 style="text-align:center; margin:0 0 25px; color: rgb(3, 3, 3);">Welcome Back</h2>
      <input type="email" id="login-email" placeholder="Email" required>
      <input type="password" id="login-password" placeholder="Password" required>
      <button class="btn-primary btn-login" onclick="login()">Login</button>
      <div class="switch-link">
        Don't have an account? <a onclick="showRegister()">Register</a>
      </div>
      <div style="text-align: center; margin-top: 15px;">
        <a href="#" onclick="openForgotPassword(); return false;">Forgot Password?</a>
      </div>
    </div>

    <!-- Register Form - Now Scrollable -->
    <div id="register-form" class="auth-form scrollable-form" style="display:none;">
      <div class="form-header">
        <h2>Create Account</h2>
        <p style="margin:8px 0 0; color:#64748b; font-size:14px;">
          Join us — it's free and takes less than a minute!
        </p>
      </div>

      <!-- SCROLLABLE AREA -->
      <div class="form-scroll-container">

        <input type="text" id="reg-name" placeholder="Full Name" maxlength="30" required>
        <input type="email" id="reg-email" placeholder="Email Address" maxlength="60" required>
        <input type="password" id="reg-password" placeholder="Password (6-12 chars)" maxlength="12" required>
        <input type="password" id="reg-confirm" placeholder="Confirm Password" maxlength="12" required>

        <div style="background:white; padding:20px; border-radius:12px; margin:20px 0; border:1px solid #e2e8f0;">
          <h4 style="margin:0 0 16px; color:#1e293b;">Security Questions</h4>

          <label>Question 1</label>
          <select id="reg-q1" required>
            <option value="">Choose question 1...</option>
            <option value="What was the name of your first pet?">What was the name of your first pet?</option>
            <option value="In what city were you born?">In what city were you born?</option>
            <option value="What is your mother's maiden name?">What is your mother's maiden name?</option>
            <option value="What was your childhood nickname?">What was your childhood nickname?</option>
            <option value="What is the name of your favorite teacher?">What is the name of your favorite teacher?
            </option>
          </select>

          <label style="margin-top:16px;">Answer 1</label>
          <input type="text" id="reg-a1" maxlength="50" required placeholder="Your answer">

          <label style="margin-top:20px;">Question 2</label>

          <select id="reg-q2" required>
            <option value="">Choose question 2...</option>
            <option value="What was the name of your first pet?">What was the name of your first pet?</option>
            <option value="In what city were you born?">In what city were you born?</option>
            <option value="What is your mother's maiden name?">What is your mother's maiden name?</option>
            <option value="What was your childhood nickname?">What was your childhood nickname?</option>
            <option value="What is the name of your favorite teacher?">What is the name of your favorite teacher?
            </option>
          </select>
          <label style="margin-top:16px;">Answer 2</label>
          <input type="text" id="reg-a2" maxlength="50" required placeholder="Your answer">
        </div>

        <!-- Button and link inside the scroll container -->
        <button class="btn-primary btn-register" onclick="register()"
          style="padding:16px; font-size:16px; font-weight:600;">
          Create My Account
        </button>

        <div style="text-align:center; margin:20px 0 10px;">
          Already have an account? <a onclick="showLogin()"
            style="color:#3b82f6; font-weight:600; cursor: pointer;">Login here</a>
        </div>

      </div>
    </div>

    <div id="auth-message"></div>
  </div>

  <!-- Forgot Password Modal -->
  <div id="forgotPassModal" class="modal" style="display:none;">
    <div class="modal-content">
      <span class="close" onclick="closeForgotPassword()">×</span>
      <h2>Recover Password</h2>

      <div id="forgot-step-1">
        <input type="email" id="fp-email" placeholder="Your email" required>

        <select id="fp-q1" required>
          <option value="">Choose question 1...</option>
          <option value="What was the name of your first pet?">What was the name of your first pet?</option>
          <option value="In what city were you born?">In what city were you born?</option>
          <option value="What is your mother's maiden name?">What is your mother's maiden name?</option>
          <option value="What was your childhood nickname?">What was your childhood nickname?</option>
          <option value="What is the name of your favorite teacher?">What is the name of your favorite teacher?
          </option>
        </select>
        <input type="text" id="fp-a1" placeholder="Answer 1" required>

        <select id="fp-q2" required>
          <option value="">Choose question 2...</option>
          <option value="What was the name of your first pet?">What was the name of your first pet?</option>
          <option value="In what city were you born?">In what city were you born?</option>
          <option value="What is your mother's maiden name?">What is your mother's maiden name?</option>
          <option value="What was your childhood nickname?">What was your childhood nickname?</option>
          <option value="What is the name of your favorite teacher?">What is the name of your favorite teacher?
          </option>
        </select>
        <input type="text" id="fp-a2" placeholder="Answer 2" required>

        <button onclick="verifySecurityAnswers()">Verify Answers</button>
        <p id="fp-msg"></p>
      </div>

      <div id="forgot-step-2" style="display:none;">
        <h3>Set New Password</h3>
        <input type="password" id="fp-newpass" placeholder="New password" required>
        <input type="password" id="fp-confirm" placeholder="Confirm password" required>
        <button onclick="resetPassword()">Update Password</button>
        <p id="fp-msg2"></p>
      </div>

      <div style="text-align:center; padding-bottom: 20px;">
        <a onclick="showLogin()" style="color:#3b82f6; font-weight:600; cursor: pointer;">Back To Login</a>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="container">
    <section class="about-section">
      <h1>About AhaduTech</h1>
      <p>
        <span class="highlight">AhaduTech</span> is a modern, fast, and fully functional digital store proudly built in
        Ethiopia —
        offering the latest electronics, powerful social media boost services, and instant Telegram Stars, all in one
        secure place.
      </p>

      <p><strong>How it works:</strong></p>
      <p>
        Browse real-time updated products on the <a href="products.html">Products page</a>, add items to your secure
        cart,
        and explore our premium <a href="services.html">Services</a> for social media growth and Telegram Stars.
      </p>

      <p>
        Your cart is now <strong>saved securely in the cloud</strong> using your account — no more losing items when you
        clear your browser
        or switch devices! Simply <span class="highlight2" onclick="showLogin()">Login</span> or
        <span class="highlight2" onclick="showRegister()">Register</span> to access your cart from anywhere.
      </p>

      <p>
        Enjoy a smooth shopping experience across the beautiful <a href="index.html">Home page</a>,
        manage your items in the <a href="cart.html">Cart</a>, and track stock and prices in real time.
      </p>

      <p>
        <strong>Note:</strong> All cart data is now safely stored on our server and linked to your account.
        Log in on any device — your cart is always there waiting for you.
      </p>

      <p>
        Proudly designed, developed, and powered in Ethiopia with love, speed, and reliability.
      </p>

      <div
        style="margin-top: 30px; padding: 20px; background: rgba(0, 212, 255, 0.1); border-radius: 12px; text-align: center; font-size: 1.1rem;">
        <p>
          <strong>Developed by:</strong><br>
          <span style="color: #00d4ff; font-weight: bold; font-size: 1.3rem;">Ahmed Mehamedyesuf</span>
        </p>
        <p style="font-size: 0.95rem; color: #aaa; margin-top: 8px;">
          Full-Stack Developer • Creator of AhaduTech • Building the future of digital shopping in Ethiopia
        </p>
      </div>
    </section>
    <!-- Contact Section -->
    <section class="contact-section">
      <div class="contact-info">
        <div>
          <h2>Get in Touch</h2>
          <p>
            We'd love to hear from you! Reach out for inquiries, support, or
            feedback.
          </p>

          <div class="contact-item">
            <div>
              <strong>
                <img src="images/phone-alt.svg" alt="Phone" width="15" height="15">
                Phone</strong><br />
              <a href="tel:+251941057332">+251-94-105-7332</a>
            </div>
          </div>

          <div class="contact-item">
            <div>
              <strong>
                <img src="images/envelope.svg" alt="Email" width="15" height="15">
                Email</strong><br />
              <a href="mailto:nathanaelbizuneh@gmail.com">nathanaelbizuneh@gmail.com</a>
            </div>
          </div>

          <div class="contact-item">
            <div class="telegram-list">
              <strong>
                <img src="images/telegram.svg" alt="Telegram" width="15" height="15">
                Telegram</strong><br />
              <a href="https://t.me/AhaduTech" target="_blank">@AhaduTech</a>
              <a href="https://t.me/trust_payment_proof" target="_blank">@trust_payment_proof</a>
              <a href="https://t.me/NatnaelBizuneh" target="_blank">@NatnaelBizuneh</a>
            </div>
          </div>

          <div class="contact-item">
            <div>
              <strong>
                <img src="images/map-marker-alt.svg" alt="Location" width="15" height="15">
                Address</strong><br />
              Bole, Addis Ababa, Ethiopia
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Footer -->
  <footer>
    &copy; 2025 AhaduTech • Your #1 Digital Store in Ethiopia<br>
    <a href="https://t.me/NatnaelBizuneh" target="_blank" style="color:#00d4ff; text-decoration:none;">Contact us on
      Telegram @NatnaelBizuneh</a>
  </footer>

  <!-- Cart Count Script -->
  <script>
    function getCurrentUser() {
      try {
        const data = localStorage.getItem('ahaduUser');  // ← This is your key!
        if (!data) return null;
        const parsed = JSON.parse(data);
        if (Date.now() > parsed.expiresAt) {
          localStorage.removeItem('ahaduUser');
          return null;
        }
        return parsed.user;
      } catch (e) {
        return null;
      }
    }

    // Update cart count in navbar
    async function updateCartCount() {
      const user = getCurrentUser();
      const link = document.getElementById('cart-link');
      if (!link) return;

      if (!user) {
        link.textContent = 'Cart (0)';
        return;
      }

      try {
        const res = await fetch(`/api/cart-count?userId=${user.id}`)
        if (!res.ok) throw new Error('Failed');
        const data = await res.json();
        link.textContent = `Cart (${data.count || 0})`;
      } catch (e) {
        link.textContent = 'Cart (?)';
        console.error('Cart count failed');
      }
    }

    updateCartCount();
    // document.addEventListener("DOMContentLoaded", updateCartCount);
  </script>
</body>

</html>